---
engine: knitr
cache: false
freeze: false
---

```{r}
#| label: import
#| warning: false
#| message: false
#| include: false 

source('../../util/doc_link.R')
source('../../util/leaflet_show.R')
```

# 5. Программирование в ограничениях {#sec-lab-5}

::: {.callout-important title="Состояние разработки"}
Требуется доработка
:::

## Инструкции {#sec-lab-5-instructions}

### Установка

### Теория

::: {#exm-lab-5}
Пример
:::

::: {#sol-lab-5}
Решение примера
:::

## Задания

### Числа

$$
\begin{array}{cccccccc}
 &&&& М & У & Х & А \\
&&&\times & С & Л & О & Н\\
\hline
&&& * & * & * & * & А \\
&&& * & * & * & Х & \\
&*&*&*&*&У\\
*&*&*&*&М\\
\hline
*&*&*&*&*&*&*&*
\end{array}
$$

$$
\begin{array}{cccccccc}
&&&&Р&Е&Ш&И\\
&&&&Е&С&Л&И\\
\hline\\
&&&С&И&Л&Ё&Н\\
&&*&*&*&*&&\\
&*&*&*&*&&&\\
\hline\\
*&*&*&*&*&*&*&*
\end{array}
$$

:::: {#exr-lab-5-jindosh-riddle}
### Задача Джиндоша

На званом обеде были леди Уинслоу, доктор Марколла, графиня Конти, мадам Нациу и баронесса Финч.

Женщины сидели в ряд. Все они были одеты в разные цвета. Например, Леди Уинслоу носила причудливое синее пончо; Доктор Марколла левее всех, рядом с гостьей, одетой в белое. Дама, одетая в красное платье, сидела слева от гостьи, одетой в пурпурное. Я помню красное платье, потому что его обладательница пролила на него виски. Путешественница, недавно покинувшая Морли, была одета во всё зелёное. Когда одна гостья хвастливо демонстрировала Портсигар, женщина, сидевшая рядом с ней, заметила: «Мой родной Морли славится такими безделушками».

Тогда Баронесса Финч достала из сумочки свою фамильную ценность — Кулон с птицей. Дама, до того рассказывавшая, как красив в это время года её родной край, Фрейпорт, с усмешкой заметила, что её Перстень — куда большая редкость. Другая дама начала демонстративно рассматривать свою реликвию — Бриллиант; сидевшая рядом с ней гостья (помнится, её родина — Дануолл) чуть не выбила коктейль из рук своей соседки. Внезапно Графиня Конти, пившая исключительно абсент, предложила тост. Дама, которой предстояло навестить Серконос и которая весь вечер налегала на сидр, попыталась запрыгнуть на стол, но повалилась на гостью, сидевшую посередине, и та пролила ром. Затем Мадам Нациу завладела всеобщим вниманием, рассказав про Бейлтон времён своей юности.

Наутро под столом валялись 4 фамильные драгоценности: Портсигар, Орден, Перстень и Бриллиант. @bib-lab-5-jindosh-riddle

Но кому принадлежит каждая из них?

::: {.callout-note appearance="minimal"}
Уровень 1
:::
::::

## Жюри Капустника

9.20 Таха с 370

Для максимального объективного судейства конкурса мистер РФиКТ

Женщины Мужчины Студенты Преподаватели Сотрудники БРСМ Профсоюз Творческий Союз

Требуется создать наименьшее по составу жюри, гарантирующее представительство каждой категории. Сформулировать ЦЛП или minizinc.

## День радиофизика

Таха 9.22 c 371

План общежития состоящего из нескольких блоков и коридоров соединённых открытыми дверями показан на рисунке. Воспитатель, находящийся у двери может наблюдать за двумя смежными комнатами. Администрация общежития заинтересована, чтобы в каждой комнате присутствовал сторож, но число воспитателей должно быть минимальным. Сформулируйте соответствующую задачу ЛП.

## Коммутаторы

Оператор НИКС совместно с ЦИТ БГУ планирует построить новые маршрутизаторы, чтобы дота не лагала. Для генетики + трафик за день, + покрытие + ограничения на стоимость и пропускную способность.

```{r}
tbl <- readr::read_delim('BSU.csv',delim = ';',col_types=c('d','d','c'))
names(tbl) <- c('lon','lat','name')
tbl$pop <- sample.int(1e3, nrow(tbl))
```

```{{r}}
tbl <- readr::read_delim('BSU.csv',delim = ';',col_types=c('d','d','c'))
names(tbl) <- c('lon','lat','name')
tbl$pop <- sample.int(1e3, nrow(tbl))

d <- geodist::geodist(tbl)
res <- kmeans(d,12)

geo_map <- leaflet::leaflet() |>
  leaflet::addTiles() |>
  leaflet::addMarkers(tbl$lon,
                      tbl$lat,
                      label = res$cluster,
                      labelOptions = leaflet::labelOptions(noHide = TRUE))

geo_map_path <- '1.png'
html_fl = fs::file_temp(ext = ".html")

mapview::mapshot2(geo_map,html_fl,geo_map_path)
```

```{r}
d <- geodist::geodist(tbl)
res <- kmeans(d,12)

leaflet::leaflet() |> 
  leaflet::addTiles() |> 
  leaflet::addMarkers(tbl$lon,
             tbl$lat, 
             label = res$cluster,
             labelOptions = leaflet::labelOptions(noHide = TRUE)) |>
  lshow()
```

## Разбалловка {#sec-lab-5-scoring}

| Объём работы                | Итоговый балл |
|-----------------------------|---------------|
|                             | Не сдано      |
| Все задачи уровня 1         | 2             |
| Все задачи уровней 1 и 2    | 3             |
| Все задачи уровней 1, 2 и 3 | 4             |
| Все задачи уровней 2, 3 и 4 | 5             |

: Разбалловка {tbl-lab-2-scoring}

## Проверочная работа
